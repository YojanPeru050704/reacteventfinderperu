{"ast":null,"code":"import _slicedToArray from\"C:/Bitacora Cambios/REACT/Assessment/eventfinderapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import M from'materialize-css/dist/js/materialize.min.js';import{connect}from'react-redux';import{addEvent}from'../../actions/eventActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddEventModal=function AddEventModal(_ref){var authuser=_ref.authuser,addEvent=_ref.addEvent,actionTime=_ref.actionTime;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],SetTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],SetDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),region=_useState6[0],SetRegion=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),createdBy=_useState8[0],SetCreatedBy=_useState8[1];useEffect(function(){if(authuser!=null&&authuser.currentuser!=null){SetTitle('');SetDescription('');SetRegion(authuser.currentuser.region);SetCreatedBy(authuser.currentuser.email);//setting default value for region\nvar select1=document.querySelector('#event_region');select1.value=authuser.currentuser.region;console.log(authuser.currentuser.region);M.FormSelect.init(select1,authuser.currentuser.region);}},[actionTime]);//once\nvar onSubmit=function onSubmit(){console.log(title,description,region);if(title===''||description===''){M.toast({html:'Please enter a event title and description'});}else{var new_event={title:title,description:description,region:region,createdby:createdBy,date:new Date()};addEvent(new_event);//clear fields\nSetTitle('');SetDescription('');SetCreatedBy('');M.toast({html:\"Event was added by \".concat(createdBy)});var modal1=document.querySelector('#add-event-modal');var instance=M.Modal.getInstance(modal1);instance.close();}};return/*#__PURE__*/_jsx(\"div\",{id:\"add-event-modal\",className:\"modal\",style:modalStyle,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"Title\",id:\"event_title\",name:\"event_title\",type:\"text\",value:title,onChange:function onChange(e){return SetTitle(e.target.value);},className:\"validate\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Description\",id:\"event_description\",type:\"text\",className:\"materialize-textarea\",name:\"event_description\",value:description,onChange:function onChange(e){return SetDescription(e.target.value);}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsxs(\"select\",{readOnly:\"true\",id:\"event_region\",name:\"event_region\",disabled:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",required:true,disabled:true,default:true,children:\"Choose your region\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Lima\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Cusco\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Arequipa\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#!\",onClick:onSubmit,className:\"\\r waves-effect waves-light btn\",children:\"Enter\"})})]})});};var modalStyle={with:'75%',height:'75%'};var mapStatetoProps=function mapStatetoProps(state){return{authuser:state.authuser,actionTime:state.event.actionTime};};export default connect(mapStatetoProps,{addEvent:addEvent})(AddEventModal);","map":{"version":3,"names":["React","useState","useEffect","M","connect","addEvent","AddEventModal","authuser","actionTime","title","SetTitle","description","SetDescription","region","SetRegion","createdBy","SetCreatedBy","currentuser","email","select1","document","querySelector","value","console","log","FormSelect","init","onSubmit","toast","html","new_event","createdby","date","Date","modal1","instance","Modal","getInstance","close","modalStyle","e","target","with","height","mapStatetoProps","state","event"],"sources":["C:/Bitacora Cambios/REACT/Assessment/eventfinderapp/src/components/events/AddEventModal.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport M from 'materialize-css/dist/js/materialize.min.js'\r\nimport {connect} from 'react-redux'\r\nimport propTypes from 'prop-types'\r\nimport {addEvent} from '../../actions/eventActions'\r\n\r\nconst AddEventModal = ({authuser, addEvent,actionTime}) => {\r\n\r\n  const [title, SetTitle] = useState('');\r\n  const [description, SetDescription] = useState('');\r\n  const [region, SetRegion] = useState('');\r\n  const [createdBy, SetCreatedBy] = useState('');\r\n  \r\n\r\n  useEffect(() => {\r\n    \r\n    if (authuser!= null && authuser.currentuser != null){        \r\n        SetTitle('');\r\n        SetDescription('');\r\n        SetRegion(authuser.currentuser.region);\r\n        SetCreatedBy(authuser.currentuser.email);\r\n\r\n        //setting default value for region\r\n        const select1 = document.querySelector('#event_region');\r\n        select1.value = authuser.currentuser.region;\r\n        console.log(authuser.currentuser.region);\r\n        M.FormSelect.init(select1, authuser.currentuser.region); \r\n    }                \r\n\r\n  }, [actionTime]) //once\r\n\r\n\r\n  const onSubmit = () => {\r\n\r\n    \r\n      console.log(title,description,region);\r\n\r\n      if (title === '' || description === '' ){\r\n        M.toast({ html:'Please enter a event title and description'}); \r\n      }\r\n      else{\r\n        const new_event = {\r\n          title: title,\r\n          description: description,\r\n          region: region,\r\n          createdby: createdBy,\r\n          date:new Date() \r\n        }\r\n\r\n        addEvent(new_event);   \r\n        \r\n        //clear fields\r\n        \r\n        SetTitle('');\r\n        SetDescription('');        \r\n        SetCreatedBy('');\r\n        \r\n      \r\n\r\n        M.toast({html: `Event was added by ${createdBy}`});\r\n\r\n        const modal1 = document.querySelector('#add-event-modal');\r\n        var instance = M.Modal.getInstance(modal1);    \r\n        instance.close();\r\n\r\n      }\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div id=\"add-event-modal\" className=\"modal\" style={modalStyle}>\r\n        <div className=\"modal-content\">\r\n            <div className='row'>\r\n              <div className='input-field col s12'>\r\n                  <input placeholder=\"Title\" \r\n                  id=\"event_title\"\r\n                  name= \"event_title\"\r\n                  type=\"text\" \r\n                  value={title} \r\n                  onChange={e => SetTitle(e.target.value)}\r\n                  className='validate' \r\n                  />                 \r\n              </div>\r\n            </div>                       \r\n            <div className='row'>\r\n              <div className='input-field col s12'>\r\n                  <textarea  placeholder=\"Description\" id=\"event_description\" \r\n                  type=\"text\" \r\n                  className='materialize-textarea' \r\n                  name= \"event_description\"\r\n                  value={description}\r\n                  onChange={e=> SetDescription(e.target.value)}\r\n                 \r\n                  />                  \r\n              </div>\r\n            </div>                       \r\n            <div className='row'>\r\n              <div className='input-field col s12'>\r\n                   <select \r\n                    readOnly='true'                                    \r\n                    id=\"event_region\"\r\n                    name=\"event_region\"    \r\n                    disabled                \r\n                    >\r\n                        <option value=\"\" required disabled default>Choose your region</option>\r\n                        <option value=\"1\" >Lima</option>\r\n                        <option value=\"2\">Cusco</option>\r\n                        <option value=\"3\">Arequipa</option>\r\n                    </select>                        \r\n              </div>\r\n            </div>     \r\n           <div className='modal-footer'>\r\n                <a href=\"#!\" \r\n                onClick={onSubmit}\r\n                className='\r\n                 waves-effect waves-light btn'>Enter</a>\r\n            </div>                       \r\n        </div>\r\n    </div>    \r\n  )\r\n}\r\n\r\nconst modalStyle = {\r\n    with: '75%',\r\n    height:'75%'\r\n};\r\n\r\nAddEventModal.propTypes = {\r\n  authuser: propTypes.object.isRequired,\r\n  addEvent: propTypes.func.isRequired,\r\n  actionTime: propTypes.any\r\n}\r\n\r\nconst mapStatetoProps = state => ({  \r\n  authuser:state.authuser,\r\n  actionTime: state.event.actionTime\r\n})\r\n\r\nexport default connect(mapStatetoProps, {addEvent})(AddEventModal)\r\n\r\n\r\n\r\n"],"mappings":"yIAAA,MAAOA,MAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,MAAOC,EAAC,KAAM,4CAA4C,CAC1D,OAAQC,OAAO,KAAO,aAAa,CAEnC,OAAQC,QAAQ,KAAO,4BAA4B,yFAEnD,GAAMC,cAAa,CAAG,QAAhBA,cAAa,MAAwC,IAAnCC,SAAQ,MAARA,QAAQ,CAAEF,QAAQ,MAARA,QAAQ,CAACG,UAAU,MAAVA,UAAU,CAEnD,cAA0BP,QAAQ,CAAC,EAAE,CAAC,wCAA/BQ,KAAK,eAAEC,QAAQ,eACtB,eAAsCT,QAAQ,CAAC,EAAE,CAAC,yCAA3CU,WAAW,eAAEC,cAAc,eAClC,eAA4BX,QAAQ,CAAC,EAAE,CAAC,yCAAjCY,MAAM,eAAEC,SAAS,eACxB,eAAkCb,QAAQ,CAAC,EAAE,CAAC,yCAAvCc,SAAS,eAAEC,YAAY,eAG9Bd,SAAS,CAAC,UAAM,CAEd,GAAIK,QAAQ,EAAG,IAAI,EAAIA,QAAQ,CAACU,WAAW,EAAI,IAAI,CAAC,CAChDP,QAAQ,CAAC,EAAE,CAAC,CACZE,cAAc,CAAC,EAAE,CAAC,CAClBE,SAAS,CAACP,QAAQ,CAACU,WAAW,CAACJ,MAAM,CAAC,CACtCG,YAAY,CAACT,QAAQ,CAACU,WAAW,CAACC,KAAK,CAAC,CAExC;AACA,GAAMC,QAAO,CAAGC,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC,CACvDF,OAAO,CAACG,KAAK,CAAGf,QAAQ,CAACU,WAAW,CAACJ,MAAM,CAC3CU,OAAO,CAACC,GAAG,CAACjB,QAAQ,CAACU,WAAW,CAACJ,MAAM,CAAC,CACxCV,CAAC,CAACsB,UAAU,CAACC,IAAI,CAACP,OAAO,CAAEZ,QAAQ,CAACU,WAAW,CAACJ,MAAM,CAAC,CAC3D,CAEF,CAAC,CAAE,CAACL,UAAU,CAAC,CAAC,CAAC;AAGjB,GAAMmB,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CAGnBJ,OAAO,CAACC,GAAG,CAACf,KAAK,CAACE,WAAW,CAACE,MAAM,CAAC,CAErC,GAAIJ,KAAK,GAAK,EAAE,EAAIE,WAAW,GAAK,EAAE,CAAE,CACtCR,CAAC,CAACyB,KAAK,CAAC,CAAEC,IAAI,CAAC,4CAA4C,CAAC,CAAC,CAC/D,CAAC,IACG,CACF,GAAMC,UAAS,CAAG,CAChBrB,KAAK,CAAEA,KAAK,CACZE,WAAW,CAAEA,WAAW,CACxBE,MAAM,CAAEA,MAAM,CACdkB,SAAS,CAAEhB,SAAS,CACpBiB,IAAI,CAAC,GAAIC,KAAI,EACf,CAAC,CAED5B,QAAQ,CAACyB,SAAS,CAAC,CAEnB;AAEApB,QAAQ,CAAC,EAAE,CAAC,CACZE,cAAc,CAAC,EAAE,CAAC,CAClBI,YAAY,CAAC,EAAE,CAAC,CAIhBb,CAAC,CAACyB,KAAK,CAAC,CAACC,IAAI,8BAAwBd,SAAS,CAAE,CAAC,CAAC,CAElD,GAAMmB,OAAM,CAAGd,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC,CACzD,GAAIc,SAAQ,CAAGhC,CAAC,CAACiC,KAAK,CAACC,WAAW,CAACH,MAAM,CAAC,CAC1CC,QAAQ,CAACG,KAAK,EAAE,CAElB,CAEJ,CAAC,CAGD,mBACE,YAAK,EAAE,CAAC,iBAAiB,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAEC,UAAW,uBAC1D,aAAK,SAAS,CAAC,eAAe,wBAC1B,YAAK,SAAS,CAAC,KAAK,uBAClB,YAAK,SAAS,CAAC,qBAAqB,uBAChC,cAAO,WAAW,CAAC,OAAO,CAC1B,EAAE,CAAC,aAAa,CAChB,IAAI,CAAE,aAAa,CACnB,IAAI,CAAC,MAAM,CACX,KAAK,CAAE9B,KAAM,CACb,QAAQ,CAAE,kBAAA+B,CAAC,QAAI9B,SAAQ,CAAC8B,CAAC,CAACC,MAAM,CAACnB,KAAK,CAAC,EAAC,CACxC,SAAS,CAAC,UAAU,EAClB,EACA,EACF,cACN,YAAK,SAAS,CAAC,KAAK,uBAClB,YAAK,SAAS,CAAC,qBAAqB,uBAChC,iBAAW,WAAW,CAAC,aAAa,CAAC,EAAE,CAAC,mBAAmB,CAC3D,IAAI,CAAC,MAAM,CACX,SAAS,CAAC,sBAAsB,CAChC,IAAI,CAAE,mBAAmB,CACzB,KAAK,CAAEX,WAAY,CACnB,QAAQ,CAAE,kBAAA6B,CAAC,QAAG5B,eAAc,CAAC4B,CAAC,CAACC,MAAM,CAACnB,KAAK,CAAC,EAAC,EAE3C,EACA,EACF,cACN,YAAK,SAAS,CAAC,KAAK,uBAClB,YAAK,SAAS,CAAC,qBAAqB,uBAC/B,gBACC,QAAQ,CAAC,MAAM,CACf,EAAE,CAAC,cAAc,CACjB,IAAI,CAAC,cAAc,CACnB,QAAQ,6BAEJ,eAAQ,KAAK,CAAC,EAAE,CAAC,QAAQ,MAAC,QAAQ,MAAC,OAAO,eAAC,oBAAkB,EAAS,cACtE,eAAQ,KAAK,CAAC,GAAG,UAAE,MAAI,EAAS,cAChC,eAAQ,KAAK,CAAC,GAAG,UAAC,OAAK,EAAS,cAChC,eAAQ,KAAK,CAAC,GAAG,UAAC,UAAQ,EAAS,GAC9B,EACT,EACF,cACP,YAAK,SAAS,CAAC,cAAc,uBACxB,UAAG,IAAI,CAAC,IAAI,CACZ,OAAO,CAAEK,QAAS,CAClB,SAAS,CAAC,iCACoB,UAAC,OAAK,EAAI,EACtC,GACJ,EACJ,CAEV,CAAC,CAED,GAAMY,WAAU,CAAG,CACfG,IAAI,CAAE,KAAK,CACXC,MAAM,CAAC,KACX,CAAC,CAQD,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,CAAGC,KAAK,QAAK,CAChCtC,QAAQ,CAACsC,KAAK,CAACtC,QAAQ,CACvBC,UAAU,CAAEqC,KAAK,CAACC,KAAK,CAACtC,UAC1B,CAAC,EAAC,CAEF,cAAeJ,QAAO,CAACwC,eAAe,CAAE,CAACvC,QAAQ,CAARA,QAAQ,CAAC,CAAC,CAACC,aAAa,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}