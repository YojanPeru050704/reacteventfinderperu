{"ast":null,"code":"import _slicedToArray from\"C:/Bitacora Cambios/REACT/Assessment/eventfinderapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import M from'materialize-css/dist/js/materialize.min.js';import{connect}from'react-redux';import{updateEvent}from'../../actions/eventActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditEventModal=function EditEventModal(_ref){var authuser=_ref.authuser,actionTime=_ref.actionTime,current=_ref.current,updateEvent=_ref.updateEvent;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],SetTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],SetDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),region=_useState6[0],SetRegion=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),regionvalue=_useState8[0],SetRegionValue=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),createdBy=_useState10[0],SetCreatedBy=_useState10[1];useEffect(function(){if(current){console.log('use effect editevent'+current.title);SetTitle(current.title);SetDescription(current.description);//SetRegion(authuser.currentuser.region);\nSetRegion(authuser.currentuser.regionname);SetRegionValue(authuser.currentuser.region);SetCreatedBy(current.createdby);//setting default value for region\n//M.AutoInit(); //initializes everything  \n}},[current,actionTime]);//once\nuseEffect(function(){M.AutoInit();//initializes everything  \n},[]);//once\nfunction onEdit(){console.log('editing an event');var edit_event={id:current.id,title:title,description:description,region:regionvalue,createdby:createdBy,date:new Date()};updateEvent(edit_event);M.toast({html:\"Event was modified by \".concat(createdBy)});}return/*#__PURE__*/_jsx(\"div\",{id:\"edit-event-modal\",className:\"modal\",style:modalStyle,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"Title\",id:\"event_title\",type:\"text\",className:\"validate\",value:title,onChange:function onChange(e){SetTitle(e.target.value);}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Description\",id:\"event_description\",type:\"text\",value:description,onChange:function onChange(e){SetDescription(e.target.value);},className:\"materialize-textarea\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsx(\"input\",{id:\"event_region\",type:\"text\",value:region,disabled:\"1\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#!\",className:\"modal-close waves-effect waves-light btn\",onClick:onEdit,children:\"Enter\"})})]})});};var modalStyle={with:'75%',height:'75%'};var mapStateToProps=function mapStateToProps(state){return{authuser:state.authuser,current:state.event.current,actionTime:state.event.actionTime};};export default connect(mapStateToProps,{updateEvent:updateEvent})(EditEventModal);","map":{"version":3,"names":["React","useState","useEffect","M","connect","updateEvent","EditEventModal","authuser","actionTime","current","title","SetTitle","description","SetDescription","region","SetRegion","regionvalue","SetRegionValue","createdBy","SetCreatedBy","console","log","currentuser","regionname","createdby","AutoInit","onEdit","edit_event","id","date","Date","toast","html","modalStyle","e","target","value","with","height","mapStateToProps","state","event"],"sources":["C:/Bitacora Cambios/REACT/Assessment/eventfinderapp/src/components/events/EditEventModal.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport M from 'materialize-css/dist/js/materialize.min.js'\r\nimport {connect} from 'react-redux'\r\nimport propTypes from 'prop-types'\r\nimport {updateEvent} from '../../actions/eventActions'\r\n\r\nconst EditEventModal = ({authuser, actionTime, current, updateEvent}) => {\r\n\r\n  const [title, SetTitle] = useState('');\r\n  const [description, SetDescription] = useState('');\r\n  const [region, SetRegion] = useState('');\r\n  const [regionvalue, SetRegionValue] = useState('');\r\n  const [createdBy, SetCreatedBy] = useState('');\r\n  \r\n\r\n  useEffect(() => {\r\n\r\n     \r\n    \r\n      if (current){\r\n\r\n        \r\n        console.log('use effect editevent' + current.title);\r\n        SetTitle(current.title);\r\n        SetDescription(current.description);  \r\n        //SetRegion(authuser.currentuser.region);\r\n        SetRegion(authuser.currentuser.regionname);\r\n        SetRegionValue(authuser.currentuser.region);\r\n        SetCreatedBy(current.createdby);\r\n\r\n        //setting default value for region\r\n        \r\n        //M.AutoInit(); //initializes everything  \r\n      }\r\n\r\n  }, [current,actionTime]) //once\r\n\r\n  useEffect(() => {\r\n\r\n    M.AutoInit(); //initializes everything  \r\n  \r\n    \r\n    \r\n}, []) //once\r\n  \r\n  \r\n  function onEdit(){\r\n\r\n      console.log('editing an event');\r\n      const edit_event = {\r\n        id: current.id,\r\n        title: title,\r\n        description: description,\r\n        region: regionvalue,\r\n        createdby: createdBy,\r\n        date:new Date() \r\n      }\r\n      updateEvent(edit_event);\r\n\r\n      M.toast({html: `Event was modified by ${createdBy}`});\r\n     \r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div id=\"edit-event-modal\" className=\"modal\" style={modalStyle} >\r\n        <div className=\"modal-content\">\r\n            <div className='row'>\r\n              <div className='input-field col s12'>\r\n                  <input placeholder=\"Title\" id=\"event_title\" type=\"text\" className='validate'\r\n                  value={title} \r\n                  onChange={(e) => {SetTitle(e.target.value); }}/>                 \r\n              </div>\r\n            </div>                       \r\n            <div className='row'>\r\n              <div className='input-field col s12'>\r\n                  <textarea  placeholder=\"Description\" id=\"event_description\" type=\"text\" \r\n                  value={description}\r\n                  onChange={(e) => {SetDescription(e.target.value); }}\r\n                  className='materialize-textarea' />                 \r\n              </div>\r\n            </div>                       \r\n            <div className='row'>\r\n              <div className='input-field col s12'>\r\n                  <input  id=\"event_region\" type=\"text\" \r\n                    value={region} \r\n                    disabled='1' />\r\n              </div>\r\n            </div>               \r\n            <div className='modal-footer'>\r\n                <a href=\"#!\" className='modal-close waves-effect waves-light btn'\r\n                 onClick={onEdit}\r\n                >Enter</a>\r\n            </div> \r\n        </div>\r\n    </div>    \r\n  )\r\n}\r\n\r\nconst modalStyle = {\r\n    with: '75%',\r\n    height:'75%'\r\n};\r\n\r\nEditEventModal.propTypes = {\r\n  authuser: propTypes.object.isRequired,\r\n  actionTime: propTypes.any,\r\n  current: propTypes.object,\r\n  updateEvent: propTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = state => ({  \r\n  authuser:state.authuser,\r\n  current:  state.event.current,\r\n  actionTime: state.event.actionTime\r\n})\r\n\r\nexport default connect(mapStateToProps, {updateEvent})(EditEventModal)\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}