{"ast":null,"code":"import _objectSpread from\"C:/Bitacora Cambios/REACT/Assessment/eventfinderapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{REGISTER_USER,GET_AUTH_USER,ERROR_USER,EXISTS_AUTH_USER,NEW_REGISTRATION_ACTION,CLEAR_AUTH_USER}from'../actions/types';import{v4 as uuid}from'uuid';var userinitialstate={user:null,currentuser:null,existsuser:null,loadinguser:false,errormessage:null,submittedtime:null,newregistrationaction:null,isauthenticated:false};export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:userinitialstate;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case GET_AUTH_USER:var unique_id=uuid();console.log('GET_AUTH_USER');console.log(unique_id);localStorage.setItem('token',JSON.stringify(action.payload));console.log(localStorage.getItem('token'));return _objectSpread(_objectSpread({},state),{},{currentuser:action.payload,errormessage:null,loadinguser:false,isauthenticated:true});case REGISTER_USER:localStorage.removeItem('token');return _objectSpread(_objectSpread({},state),{},{currentuser:null,user:action.payload,errormessage:null,isauthenticated:false});case EXISTS_AUTH_USER:return _objectSpread(_objectSpread({},state),{},{existsuser:action.payload,currentuser:null,errormessage:null,submittedtime:new Date().getTime(),isauthenticated:false});case ERROR_USER:localStorage.removeItem('token');return _objectSpread(_objectSpread({},state),{},{currentuser:null,errormessage:action.payload,loadinguser:false,isauthenticated:false});case NEW_REGISTRATION_ACTION:localStorage.removeItem('token');return _objectSpread(_objectSpread({},state),{},{user:null,currentuser:null,existsuser:null,loadinguser:false,errormessage:null,submittedtime:null,newregistrationaction:new Date().getTime(),isauthenticated:false});case CLEAR_AUTH_USER:localStorage.removeItem('token');return{user:null,currentuser:null,existsuser:null,loadinguser:false,errormessage:null,submittedtime:null,newregistrationaction:null,isauthenticated:false};default:{return state;}}});","map":{"version":3,"names":["REGISTER_USER","GET_AUTH_USER","ERROR_USER","EXISTS_AUTH_USER","NEW_REGISTRATION_ACTION","CLEAR_AUTH_USER","v4","uuid","userinitialstate","user","currentuser","existsuser","loadinguser","errormessage","submittedtime","newregistrationaction","isauthenticated","state","action","type","unique_id","console","log","localStorage","setItem","JSON","stringify","payload","getItem","removeItem","Date","getTime"],"sources":["C:/Bitacora Cambios/REACT/Assessment/eventfinderapp/src/reducers/authReducer.js"],"sourcesContent":["import {    REGISTER_USER, GET_AUTH_USER, ERROR_USER, EXISTS_AUTH_USER, \r\n    NEW_REGISTRATION_ACTION,CLEAR_AUTH_USER\r\n} from '../actions/types'\r\nimport { v4 as uuid } from 'uuid';\r\n\r\n\r\nconst userinitialstate ={    \r\n    user: null,\r\n    currentuser:null,\r\n    existsuser:null,\r\n    loadinguser:false,    \r\n    errormessage:null,\r\n    submittedtime: null,\r\n    newregistrationaction:null,\r\n    isauthenticated:false\r\n}\r\n\r\nexport default (state = userinitialstate, action) => {\r\n\r\n    switch(action.type){\r\n        case GET_AUTH_USER:\r\n            const unique_id = uuid();\r\n            console.log('GET_AUTH_USER')\r\n            console.log(unique_id)\r\n            localStorage.setItem('token', JSON.stringify(action.payload));\r\n            console.log(localStorage.getItem('token'));\r\n            return {\r\n                ...state,               \r\n                currentuser: action.payload,\r\n                errormessage:null,\r\n                loadinguser:false,\r\n                isauthenticated:true  \r\n            }                \r\n        case REGISTER_USER:\r\n            localStorage.removeItem('token');\r\n            return {\r\n                ...state,\r\n                currentuser: null,\r\n                user: action.payload,\r\n                errormessage:null,\r\n                isauthenticated:false\r\n            }   \r\n        case EXISTS_AUTH_USER:\r\n            return {\r\n                ...state,\r\n                existsuser: action.payload,\r\n                currentuser:null,\r\n                errormessage:null,\r\n                submittedtime:new Date().getTime(),\r\n                isauthenticated:false\r\n            }            \r\n        case ERROR_USER:\r\n            localStorage.removeItem('token');\r\n            return {\r\n               ...state,               \r\n               currentuser:null,\r\n               errormessage: action.payload,\r\n               loadinguser:false,\r\n               isauthenticated:false\r\n            }\r\n        case NEW_REGISTRATION_ACTION:\r\n            localStorage.removeItem('token');\r\n            return {\r\n               ...state,\r\n               user: null,\r\n               currentuser:null,\r\n               existsuser:null,\r\n               loadinguser:false,    \r\n               errormessage:null,\r\n               submittedtime: null,\r\n               newregistrationaction: new Date().getTime(),               \r\n               isauthenticated:false\r\n            }  \r\n        case CLEAR_AUTH_USER:\r\n            localStorage.removeItem('token');\r\n            return {              \r\n                user: null,\r\n                currentuser:null,\r\n                existsuser:null,\r\n                loadinguser:false,    \r\n                errormessage:null,\r\n                submittedtime: null,\r\n                newregistrationaction: null,                \r\n                isauthenticated:false\r\n             }\r\n        default:{\r\n            return state\r\n        }\r\n             \r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"wIAAA,OAAYA,aAAa,CAAEC,aAAa,CAAEC,UAAU,CAAEC,gBAAgB,CAClEC,uBAAuB,CAACC,eAAe,KACpC,kBAAkB,CACzB,OAASC,EAAE,GAAIC,KAAI,KAAQ,MAAM,CAGjC,GAAMC,iBAAgB,CAAE,CACpBC,IAAI,CAAE,IAAI,CACVC,WAAW,CAAC,IAAI,CAChBC,UAAU,CAAC,IAAI,CACfC,WAAW,CAAC,KAAK,CACjBC,YAAY,CAAC,IAAI,CACjBC,aAAa,CAAE,IAAI,CACnBC,qBAAqB,CAAC,IAAI,CAC1BC,eAAe,CAAC,KACpB,CAAC,CAED,eAAe,UAAsC,IAArCC,MAAK,2DAAGT,gBAAgB,IAAEU,OAAM,2CAE5C,OAAOA,MAAM,CAACC,IAAI,EACd,IAAKlB,cAAa,CACd,GAAMmB,UAAS,CAAGb,IAAI,EAAE,CACxBc,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,CAC5BD,OAAO,CAACC,GAAG,CAACF,SAAS,CAAC,CACtBG,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEC,IAAI,CAACC,SAAS,CAACR,MAAM,CAACS,OAAO,CAAC,CAAC,CAC7DN,OAAO,CAACC,GAAG,CAACC,YAAY,CAACK,OAAO,CAAC,OAAO,CAAC,CAAC,CAC1C,sCACOX,KAAK,MACRP,WAAW,CAAEQ,MAAM,CAACS,OAAO,CAC3Bd,YAAY,CAAC,IAAI,CACjBD,WAAW,CAAC,KAAK,CACjBI,eAAe,CAAC,IAAI,GAE5B,IAAKhB,cAAa,CACduB,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC,CAChC,sCACOZ,KAAK,MACRP,WAAW,CAAE,IAAI,CACjBD,IAAI,CAAES,MAAM,CAACS,OAAO,CACpBd,YAAY,CAAC,IAAI,CACjBG,eAAe,CAAC,KAAK,GAE7B,IAAKb,iBAAgB,CACjB,sCACOc,KAAK,MACRN,UAAU,CAAEO,MAAM,CAACS,OAAO,CAC1BjB,WAAW,CAAC,IAAI,CAChBG,YAAY,CAAC,IAAI,CACjBC,aAAa,CAAC,GAAIgB,KAAI,EAAE,CAACC,OAAO,EAAE,CAClCf,eAAe,CAAC,KAAK,GAE7B,IAAKd,WAAU,CACXqB,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC,CAChC,sCACMZ,KAAK,MACRP,WAAW,CAAC,IAAI,CAChBG,YAAY,CAAEK,MAAM,CAACS,OAAO,CAC5Bf,WAAW,CAAC,KAAK,CACjBI,eAAe,CAAC,KAAK,GAE5B,IAAKZ,wBAAuB,CACxBmB,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC,CAChC,sCACMZ,KAAK,MACRR,IAAI,CAAE,IAAI,CACVC,WAAW,CAAC,IAAI,CAChBC,UAAU,CAAC,IAAI,CACfC,WAAW,CAAC,KAAK,CACjBC,YAAY,CAAC,IAAI,CACjBC,aAAa,CAAE,IAAI,CACnBC,qBAAqB,CAAE,GAAIe,KAAI,EAAE,CAACC,OAAO,EAAE,CAC3Cf,eAAe,CAAC,KAAK,GAE5B,IAAKX,gBAAe,CAChBkB,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC,CAChC,MAAO,CACHpB,IAAI,CAAE,IAAI,CACVC,WAAW,CAAC,IAAI,CAChBC,UAAU,CAAC,IAAI,CACfC,WAAW,CAAC,KAAK,CACjBC,YAAY,CAAC,IAAI,CACjBC,aAAa,CAAE,IAAI,CACnBC,qBAAqB,CAAE,IAAI,CAC3BC,eAAe,CAAC,KACnB,CAAC,CACN,QAAQ,CACJ,MAAOC,MAAK,CAChB,CAAC,CAIT,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}