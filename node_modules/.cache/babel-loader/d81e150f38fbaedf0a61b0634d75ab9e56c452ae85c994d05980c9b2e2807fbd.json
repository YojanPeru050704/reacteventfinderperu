{"ast":null,"code":"import _slicedToArray from\"C:/Bitacora Cambios/REACT/Assessment/eventfinderapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{setSearchEventText}from'../../actions/eventActions';import M from'materialize-css/dist/js/materialize.min.js';import{connect}from'react-redux';import{useNavigate}from'react-router-dom';import{clearauthuser}from'../../actions/authActions';import{clearEvent}from'../../actions/eventActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchBar=function SearchBar(_ref){var authuser=_ref.authuser,event=_ref.event,setSearchEventText=_ref.setSearchEventText,clearauthuser=_ref.clearauthuser,clearEvent=_ref.clearEvent;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchText=_useState2[0],setSearchText=_useState2[1];var navigate=useNavigate();useEffect(function(){//M.AutoInit();\nif(authuser!=null&&authuser.currentuser!=null){console.log(authuser.currentuser);var options=new Object();options.html=\"<div style='text-align:left'>Email: \"+authuser.currentuser.email+\"<br>Region: \"+authuser.currentuser.regionname+\"</div>\";var elem=document.querySelector('#userinfo');M.Tooltip.init(elem,options);}},[]);function mouseOver(){var elem=document.querySelector('#userinfo');var instance=M.Tooltip.getInstance(elem);instance.open();}function handleChange(event){setSearchText(event.target.value);}function handleKeyDown(event){if(event.key==='Enter'){console.log('entro al enter');console.log(searchText);setSearchEventText(searchText);}}function onLogOff(){console.log('Log off');clearauthuser();clearEvent();navigate('/');}return/*#__PURE__*/_jsx(\"nav\",{className:\"black\",style:{marginBottom:'30px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"search\",type:\"search\",className:\"left\",style:{width:'calc(100% - 230px)'},onChange:handleChange,onKeyDown:handleKeyDown}),/*#__PURE__*/_jsx(\"label\",{className:\"label-icon\",htmlFor:\"search\",children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"search\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"right hide-on-med-and-down\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",id:\"userinfo\",onMouseOver:mouseOver,children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"group\"})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#!\",onClick:onLogOff,className:\"\\r waves-effect waves-light btn-small hide-on-med-and-down\",children:\"Log off\"})})]})]})})});};var mapStatetoProps=function mapStatetoProps(state){return{event:state.event,authuser:state.authuser};};export default connect(mapStatetoProps,{setSearchEventText:setSearchEventText,clearauthuser:clearauthuser,clearEvent:clearEvent})(SearchBar);","map":{"version":3,"names":["React","useState","useEffect","setSearchEventText","M","connect","useNavigate","clearauthuser","clearEvent","SearchBar","authuser","event","searchText","setSearchText","navigate","currentuser","console","log","options","Object","html","email","regionname","elem","document","querySelector","Tooltip","init","mouseOver","instance","getInstance","open","handleChange","target","value","handleKeyDown","key","onLogOff","marginBottom","width","mapStatetoProps","state"],"sources":["C:/Bitacora Cambios/REACT/Assessment/eventfinderapp/src/components/layout/SearchBar.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport {setSearchEventText} from '../../actions/eventActions'\r\nimport M from 'materialize-css/dist/js/materialize.min.js'\r\nimport {connect} from 'react-redux'\r\nimport propTypes from 'prop-types'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport {clearauthuser} from '../../actions/authActions'\r\nimport {clearEvent} from '../../actions/eventActions'\r\n\r\nconst SearchBar = ({authuser, event, setSearchEventText, clearauthuser,clearEvent}) => {\r\n\r\n\r\n  const [searchText, setSearchText] = useState('');\r\n  let navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n\r\n    //M.AutoInit();\r\n\r\n    if (authuser!= null && authuser.currentuser != null){\r\n      console.log(authuser.currentuser);\r\n      var options = new Object();\r\n      options.html = \"<div style='text-align:left'>Email: \" +  authuser.currentuser.email +  \"<br>Region: \" +  authuser.currentuser.regionname + \"</div>\";\r\n      const elem = document.querySelector('#userinfo');\r\n      M.Tooltip.init(elem, options);       \r\n    }                \r\n},[]);\r\n\r\nfunction mouseOver(){\r\n\r\n  const elem = document.querySelector('#userinfo');\r\n  var instance = M.Tooltip.getInstance(elem);    \r\n  instance.open();\r\n\r\n}\r\n\r\n\r\n\r\n  function handleChange(event)  {\r\n\r\n    setSearchText(event.target.value);\r\n\r\n  } \r\n\r\n  function handleKeyDown(event){\r\n\r\n      if (event.key === 'Enter'){\r\n        console.log('entro al enter');        \r\n        console.log(searchText); \r\n        setSearchEventText(searchText);\r\n      }\r\n        \r\n\r\n  }\r\n\r\n  function onLogOff(){\r\n\r\n      console.log('Log off');\r\n      clearauthuser();\r\n      clearEvent();\r\n      navigate('/');\r\n  }\r\n\r\n\r\n  return (\r\n    <nav className='black' style={{ marginBottom:'30px'}}>\r\n    <div className=\"nav-wrapper\">      \r\n        <div className=\"input-field\">\r\n           {/* <input id=\"search\" type=\"search\" style={{width:'10%'}} />\r\n                       */}\r\n          <input id=\"search\" type=\"search\" className=\"left\" style={{width:'calc(100% - 230px)'}} \r\n          onChange={handleChange}\r\n          onKeyDown={handleKeyDown}\r\n          />\r\n          <label className=\"label-icon\" htmlFor=\"search\"><i className=\"material-icons\">search</i>\r\n          </label>          \r\n          <ul className=\"right hide-on-med-and-down\">            \r\n            <li><a href=\"#\" id=\"userinfo\"  onMouseOver={mouseOver} ><span className=\"material-symbols-outlined\">\r\n                            group\r\n                </span></a></li>\r\n            <li>\r\n            <a href=\"#!\" \r\n                onClick={onLogOff}\r\n                className='\r\n                waves-effect waves-light btn-small hide-on-med-and-down'>Log off</a>              \r\n            </li>            \r\n          </ul>\r\n        </div>      \r\n    </div>\r\n  </nav>\r\n  )\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  setSearchEventText: propTypes.func.isRequired,\r\n  authuser: propTypes.object.isRequired,\r\n  event: propTypes.object.isRequired\r\n}\r\n\r\nconst mapStatetoProps = state => ({\r\n  event: state.event,\r\n  authuser:state.authuser\r\n})\r\n\r\nexport default connect(mapStatetoProps, {setSearchEventText,clearauthuser,clearEvent})(SearchBar)\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}